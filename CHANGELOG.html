<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Store Install Builder - Feature Changelog</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
        }
        
        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            overflow: hidden;
        }
        
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 50px;
            text-align: center;
        }
        
        header h1 {
            font-size: 3em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        header p {
            font-size: 1.3em;
            opacity: 0.95;
        }
        
        .timeline {
            padding: 40px;
            background: #f8f9fa;
        }
        
        .timeline-item {
            position: relative;
            padding-left: 40px;
            margin-bottom: 15px;
        }
        
        .timeline-item::before {
            content: "";
            position: absolute;
            left: 10px;
            top: 8px;
            width: 12px;
            height: 12px;
            background: #667eea;
            border-radius: 50%;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.2);
        }
        
        .timeline-date {
            font-size: 0.85em;
            color: #888;
            font-weight: 600;
        }
        
        .content {
            padding: 50px;
        }
        
        .version-section {
            margin-bottom: 60px;
            background: #fff;
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }
        
        .version-header {
            display: flex;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }
        
        .version-badge {
            background: #667eea;
            color: white;
            padding: 8px 20px;
            border-radius: 25px;
            font-size: 0.9em;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
        }
        
        .version-badge.current {
            background: #28a745;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.8; }
        }
        
        .version-title {
            font-size: 2.2em;
            color: #667eea;
            font-weight: 700;
        }
        
        .version-date {
            color: #666;
            font-size: 1.1em;
            margin-bottom: 30px;
            font-weight: 500;
        }
        
        .feature-category {
            margin-bottom: 35px;
        }
        
        .category-header {
            display: flex;
            align-items: center;
            gap: 12px;
            margin-bottom: 20px;
            padding: 15px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 8px;
        }
        
        .category-icon {
            font-size: 1.8em;
        }
        
        .category-title {
            font-size: 1.6em;
            color: #2c3e50;
            font-weight: 600;
        }
        
        .feature-list {
            list-style: none;
            padding-left: 20px;
        }
        
        .feature-item {
            padding: 16px 20px;
            margin-bottom: 12px;
            background: #ffffff;
            border-left: 4px solid #667eea;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            transition: all 0.3s ease;
        }
        
        .feature-item:hover {
            transform: translateX(8px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.2);
            border-left-width: 6px;
        }
        
        .feature-item::before {
            content: "‚ú¶";
            color: #667eea;
            font-size: 1.2em;
            margin-right: 12px;
            font-weight: bold;
        }
        
        .feature-title {
            font-weight: 600;
            color: #2c3e50;
            font-size: 1.05em;
            margin-bottom: 5px;
        }
        
        .feature-desc {
            color: #555;
            font-size: 0.95em;
            line-height: 1.5;
            margin-left: 24px;
        }
        
        code {
            background: #f4f4f4;
            padding: 3px 8px;
            border-radius: 4px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 0.9em;
            color: #e83e8c;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 25px;
            margin: 40px 0;
        }
        
        .stat-card {
            text-align: center;
            padding: 30px;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-number {
            font-size: 3em;
            font-weight: 700;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .stat-label {
            color: #666;
            font-size: 1em;
            margin-top: 8px;
            font-weight: 500;
        }
        
        footer {
            background: #2d3436;
            color: white;
            text-align: center;
            padding: 30px;
        }
        
        footer p {
            margin: 5px 0;
            opacity: 0.9;
        }
        
        .commit-ref {
            background: #e9ecef;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: monospace;
            font-size: 0.85em;
            color: #495057;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üöÄ Store Install Builder</h1>
            <p>New Features & Enhancements Changelog</p>
            <p style="margin-top: 15px; font-size: 0.9em; opacity: 0.85;">
                Base Commit: <span class="commit-ref">5611d5f</span> (October 10, 2025)
            </p>
        </header>
        
        <div class="timeline">
            <h2 style="margin-bottom: 20px; color: #2c3e50;">üìÖ Development Timeline</h2>
            <div class="timeline-item">
                <span class="timeline-date">Oct 10, 2025</span> - Base commit (5611d5f) - WebDAV to REST API migration
            </div>
            <div class="timeline-item">
                <span class="timeline-date">Oct 10-11, 2025</span> - File browser redesign and API endpoint updates
            </div>
            <div class="timeline-item">
                <span class="timeline-date">Oct 18-25, 2025</span> - Config-Service API, DSG improvements
            </div>
            <div class="timeline-item">
                <span class="timeline-date">Oct 25, 2025</span> - 5.27 branch created + Multi-environment work begins
            </div>
            <div class="timeline-item">
                <span class="timeline-date">Oct 26, 2025</span> - OAuth fixes, environment detection enhancements
            </div>
        </div>
        
        <div class="content">
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">38</div>
                    <div class="stat-label">New Features</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">2</div>
                    <div class="stat-label">Major Releases</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">16</div>
                    <div class="stat-label">Days of Development</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">100%</div>
                    <div class="stat-label">Cross-Platform</div>
                </div>
            </div>

            <!-- Version 5.27 -->
            <div class="version-section">
                <div class="version-header">
                    <span class="version-badge">5.27</span>
                    <h2 class="version-title">Version 5.27 Features</h2>
                </div>
                <p class="version-date">üìÖ October 10 - October 25, 2025</p>
                
                <div class="feature-category">
                    <div class="category-header">
                        <span class="category-icon">üîÑ</span>
                        <h3 class="category-title">WebDAV to REST API Migration</h3>
                    </div>
                    <ul class="feature-list">
                        <li class="feature-item">
                            <div class="feature-title">Complete DSG REST API Migration</div>
                            <div class="feature-desc">Migrated from WebDAV to DSG REST API (<code>/api/digital-content/services/rest/media/v1/files</code>) for file browsing and downloads</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Bearer Token Authentication</div>
                            <div class="feature-desc">Implemented OAuth2 bearer token authentication replacing Basic Auth for improved security</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Automatic Token Generation</div>
                            <div class="feature-desc">Auto-generate checkbox with smart manual token fallback when API is unavailable</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Token Refresh on 401 Errors</div>
                            <div class="feature-desc">Automatic bearer token refresh when encountering 401 errors with user notifications and retry logic</div>
                        </li>
                    </ul>
                </div>

                <div class="feature-category">
                    <div class="category-header">
                        <span class="category-icon">üé®</span>
                        <h3 class="category-title">File Browser Redesign</h3>
                    </div>
                    <ul class="feature-list">
                        <li class="feature-item">
                            <div class="feature-title">Professional UI Overhaul</div>
                            <div class="feature-desc">Complete redesign with modern CustomTkinter integration and professional best practices</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Performance Optimization</div>
                            <div class="feature-desc">Replaced heavy ScrollableFrame with lightweight tkinter Listbox for massive performance boost</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Color-Coded File Types</div>
                            <div class="feature-desc">Visual file type highlighting with color coding and eliminated GUI flickering</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Context Menu</div>
                            <div class="feature-desc">Professional right-click context menu with "Copy Download URL" and direct file download functionality</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Download Progress Dialog</div>
                            <div class="feature-desc">Background threading for file downloads with progress dialog and <code>downloaded_packages</code> folder organization</div>
                        </li>
                    </ul>
                </div>

                <div class="feature-category">
                    <div class="category-header">
                        <span class="category-icon">üîå</span>
                        <h3 class="category-title">API Endpoint Updates</h3>
                    </div>
                    <ul class="feature-list">
                        <li class="feature-item">
                            <div class="feature-title">Onboarding API</div>
                            <div class="feature-desc">Updated to <code>/api/iam/cim/rest/v1/onboarding/tokens</code> endpoint</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Config-Service API</div>
                            <div class="feature-desc">New <code>/api/config</code> endpoint for configuration management</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Business-Unit API</div>
                            <div class="feature-desc">Updated to <code>/api/business-unit/rest/v1</code> structure</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">POS Master Data API</div>
                            <div class="feature-desc">New <code>/api/pos/master-data/rest/v1</code> endpoint</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">CIMS & DSG URLs</div>
                            <div class="feature-desc">Updated CIMS URL to <code>/api/iam/cim/rest</code> and DSG to <code>/api/digital-content/content/cep/SoftwarePackage</code></div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Removed Deprecated Properties</div>
                            <div class="feature-desc">Removed <code>afterOnboardingProperties</code> from all onboarding JSON files</div>
                        </li>
                    </ul>
                </div>

                <div class="feature-category">
                    <div class="category-header">
                        <span class="category-icon">‚öôÔ∏è</span>
                        <h3 class="category-title">Config-Service Integration</h3>
                    </div>
                    <ul class="feature-list">
                        <li class="feature-item">
                            <div class="feature-title">Version Fetching API</div>
                            <div class="feature-desc">Config-Service API support for dynamic version fetching (<code>/api/config/services/rest/infrastructure/v1/versions/search</code>)</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Configurable Form Username</div>
                            <div class="feature-desc">Made form username configurable with template placeholder replacement</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Automatic GKR System Type Detection</div>
                            <div class="feature-desc">Auto-detect GKR system types from product URLs for proper component identification</div>
                        </li>
                    </ul>
                </div>

                <div class="feature-category">
                    <div class="category-header">
                        <span class="category-icon">üìö</span>
                        <h3 class="category-title">Documentation & Project Structure</h3>
                    </div>
                    <ul class="feature-list">
                        <li class="feature-item">
                            <div class="feature-title">WARP.md Documentation</div>
                            <div class="feature-desc">Comprehensive development guide with architecture patterns and technical documentation</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">.gitignore Updates</div>
                            <div class="feature-desc">Added Product folder, Python cache, and My GK Project directory exclusions</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Security Cleanup</div>
                            <div class="feature-desc">Removed HAR files with leaked Bearer tokens from repository</div>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- feature/multi-environment -->
            <div class="version-section">
                <div class="version-header">
                    <span class="version-badge current">CURRENT</span>
                    <h2 class="version-title">Multi-Environment Branch</h2>
                </div>
                <p class="version-date">üìÖ October 25 - October 26, 2025 (Active Development)</p>
                
                <div class="feature-category">
                    <div class="category-header">
                        <span class="category-icon">üåç</span>
                        <h3 class="category-title">Multi-Environment Architecture</h3>
                    </div>
                    <ul class="feature-list">
                        <li class="feature-item">
                            <div class="feature-title">Environment Manager UI</div>
                            <div class="feature-desc">Complete multi-environment configuration interface for managing TEST, PROD, QA, and custom environments with per-environment settings</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">environments.json Generation</div>
                            <div class="feature-desc">Automatic generation of <code>helper/environments/environments.json</code> with Base64-encoded credentials for each environment</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Per-Environment Credentials</div>
                            <div class="feature-desc">Separate OAuth2 credentials, Launchpad passwords, and tenant IDs for each environment</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Dynamic Tenant ID Propagation</div>
                            <div class="feature-desc">Environment-specific tenant IDs automatically updated in all helper JSON files (onboarding, init, structure)</div>
                        </li>
                    </ul>
                </div>

                <div class="feature-category">
                    <div class="category-header">
                        <span class="category-icon">üéØ</span>
                        <h3 class="category-title">Environment Detection</h3>
                    </div>
                    <ul class="feature-list">
                        <li class="feature-item">
                            <div class="feature-title">Hostname Environment Detection</div>
                            <div class="feature-desc">3-group regex pattern detection (Environment-Store-Workstation) with configurable group mappings for automatic environment selection</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Station File Environment Detection</div>
                            <div class="feature-desc">Read <code>Environment=</code> line from <code>.station</code> files (POS.station, WDM.station, etc.) to auto-select environment</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Toggle for Environment File Detection</div>
                            <div class="feature-desc">Enable/disable environment detection from station files independently of store/workstation detection</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Automatic Pattern Switching</div>
                            <div class="feature-desc">Platform-specific regex patterns automatically switch between 2-group (Store-Workstation) and 3-group (Env-Store-Workstation) modes</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Priority-Based Selection</div>
                            <div class="feature-desc">Environment selection priority: 1) CLI parameter, 2) Hostname detection, 3) File detection, 4) Interactive prompt</div>
                        </li>
                    </ul>
                </div>

                <div class="feature-category">
                    <div class="category-header">
                        <span class="category-icon">üîê</span>
                        <h3 class="category-title">OAuth2 & Credential Management</h3>
                    </div>
                    <ul class="feature-list">
                        <li class="feature-item">
                            <div class="feature-title">Base64 Credential Encoding/Decoding</div>
                            <div class="feature-desc">All credentials stored Base64-encoded in token files and properly decoded before use in both GKInstall.ps1 and onboarding.ps1</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Load-Environments Function</div>
                            <div class="feature-desc">Restored proper implementation to load and parse environments.json without recursion issues</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Comprehensive Debug Logging</div>
                            <div class="feature-desc">Detailed debug output for OAuth token generation: token URL, request body, file paths, credential status, and error responses</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Update Mode Token Generation</div>
                            <div class="feature-desc">OAuth token generation and environment selection properly supported in update mode installations</div>
                        </li>
                    </ul>
                </div>

                <div class="feature-category">
                    <div class="category-header">
                        <span class="category-icon">üìú</span>
                        <h3 class="category-title">Script Generation Enhancements</h3>
                    </div>
                    <ul class="feature-list">
                        <li class="feature-item">
                            <div class="feature-title">PowerShell Brace Matching</div>
                            <div class="feature-desc">Correct brace matching and indentation in generated PowerShell scripts for proper parsing in PS 5.1</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Multi-Environment Script Support</div>
                            <div class="feature-desc">Both GKInstall.ps1 and GKInstall.sh support multi-environment configuration with automatic environment loading</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Update_Version Fallback</div>
                            <div class="feature-desc">Added <code>Update_Version</code> property fallback to FP/FPD API calls when dynamic version fetching fails</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">Comprehensive API Logging</div>
                            <div class="feature-desc">Added detailed API call logging with timestamps, status codes, and request/response bodies for troubleshooting</div>
                        </li>
                    </ul>
                </div>

                <div class="feature-category">
                    <div class="category-header">
                        <span class="category-icon">üìñ</span>
                        <h3 class="category-title">Documentation Updates</h3>
                    </div>
                    <ul class="feature-list">
                        <li class="feature-item">
                            <div class="feature-title">WARP.md Multi-Environment Section</div>
                            <div class="feature-desc">Comprehensive documentation of multi-environment features, OAuth2 flow, architecture patterns, and development guide</div>
                        </li>
                        <li class="feature-item">
                            <div class="feature-title">API Endpoint Documentation</div>
                            <div class="feature-desc">Detailed documentation of all API endpoints with headers, parameters, and authentication requirements</div>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
        
        <footer>
            <p>&copy; 2025 Store Install Builder ¬∑ GK Retail</p>
            <p style="margin-top: 10px;">Version: feature/multi-environment (Oct 26, 2025)</p>
            <p style="margin-top: 10px; font-size: 0.9em; opacity: 0.8;">Base: 5611d5f ‚Üí 5.27 ‚Üí feature/multi-environment</p>
        </footer>
    </div>
</body>
</html>
